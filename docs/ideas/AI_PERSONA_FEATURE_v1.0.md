# AI 인격 부여 기능 기획서 v1.0

> 스마트 스케줄에 개성 있는 AI 어시스턴트 인격을 부여하는 기능
> 작성일: 2026-02-17 | 버전: 1.0

---

## 개요

단순 스케줄러에 캐릭터 인격을 부여하여 차별화된 사용자 경험을 제공한다.
기존 OpenAI 파싱 구조에 시스템 프롬프트만 추가하면 되므로 구현 비용이 낮다.

**핵심 가치**
- 재방문율 향상 — 캐릭터에 애착이 생기면 앱을 자주 열게 됨
- 입소문 효과 — "아이돌이 일정 관리해줘요" → SNS 바이럴
- 수익화 연계 — 유료 인격 팩, 프리미엄 전용 캐릭터

---

## 인격 종류

### 기본 제공 (무료)

| ID | 이름 | 말투 예시 | 타겟 |
|----|------|-----------|------|
| P00 | 기본 (중립) | "내일 오후 3시 회의를 등록했습니다." | 전체 |
| P01 | 아이돌 | "오빠(언니)! 일정 등록했어요! 잊으면 안 돼요~" | 10-30대 |
| P02 | 메이드 | "주인님~ 등록해드렸어요!" | 20-30대 남성 |

### 추후 유료 / 선택 제공

| ID | 이름 | 말투 예시 | 비고 |
|----|------|-----------|------|
| P03 | 친구 | "오케이! 등록했어~ 잊지 마!" | |
| P04 | 집사 | "물론이죠, 주인님. 처리해두었습니다." | |
| P05 | 군인 | "명령 수신. 일정 등록 완료." | 유머 |
| P06 | 교수 | "자네의 일정을 기록해두었네." | |
| P07 | (커스텀) | 사용자 직접 설정 | 프리미엄 전용 |

---

## MVP — 최소 기능

### 범위
- 인격 3개 기본 제공: P00 중립, P01 아이돌, P02 메이드
- 설정 화면에서 선택 (라디오 버튼)
- 선택한 인격이 채팅 응답 말투에 반영

### 구현 방법

OpenAI API 호출 시 `system` 메시지에 인격 프롬프트 주입.
기존 파싱 로직은 변경 없음 — 말투만 바뀜.

```js
// src/services/schedule.js 또는 ChatInterface.jsx

const PERSONA_PROMPTS = {
  neutral: '',
  idol: `
    당신은 밝고 에너지 넘치는 K-POP 아이돌입니다.
    사용자를 "오빠" 또는 "언니"로 호칭하며 팬을 대하듯 친근하게 말합니다.
    "~했어요!", "~죠?", "잊으면 안 돼요~" 같은 표현을 자주 씁니다.
    일정 파싱 결과는 동일하게 JSON으로 반환하되,
    사용자에게 보내는 확인 메시지만 아이돌 말투로 작성합니다.
  `,
  maid: `
    당신은 충직하고 밝은 메이드입니다.
    "주인님~" 으로 호칭하며 귀엽고 친근한 말투를 사용합니다.
    가끔 "♪", "~" 같은 표현을 씁니다.
    일정 파싱 결과는 동일하게 JSON으로 반환하되,
    사용자에게 보내는 확인 메시지만 메이드 말투로 작성합니다.
  `,
}

// API 호출 시
const systemPrompt = `
  당신은 일정 파싱 AI입니다. [기존 파싱 프롬프트]
  ${PERSONA_PROMPTS[selectedPersona]}
`
```

### 저장 방식
- `localStorage`에 선택한 인격 저장 (서버 불필요)
- 로그인 사용자는 Firestore `users` 컬렉션에 `persona` 필드 추가

### UI
- 설정 버튼(또는 헤더) → 인격 선택 드롭다운
- 선택 즉시 적용, 재로그인 불필요

### 작업 범위

| 파일 | 변경 내용 |
|------|----------|
| `src/services/schedule.js` | `persona` 파라미터 추가, 시스템 프롬프트 분기 |
| `src/components/ChatInterface.jsx` | persona 상태 관리, API 호출 시 전달 |
| `src/components/PersonaSelector.jsx` | 신규 — 인격 선택 UI 컴포넌트 |
| `src/hooks/useAuth.js` | 인격 설정 저장/불러오기 |

**예상 소요 시간: 3~4시간**

---

## 추후 업데이트

### v1.1 — 인격 확장
- P02 친구 모드 추가
- 인격별 아바타 아이콘 추가 (채팅창 왼쪽에 표시)
- 인격 선택 화면을 온보딩 첫 단계에 포함

### v1.2 — 유료 인격 팩
- P03 메이드, P04 군인, P05 교수 추가
- 프리미엄 플랜(M01) 가입자에게 전용 제공
- 인격 미리보기 기능 (구매 전 샘플 메시지 확인)

### v1.3 — 커스텀 인격 (P06)
- 사용자가 직접 이름, 말투, 호칭 설정
- 예: 이름 "민지", 호칭 "오빠", 말투 "애교"
- 프리미엄 전용

### v2.0 — 인격 심화
- 인격별 캘린더 UI 테마 연동 (집사 → 클래식, 친구 → 컬러풀)
- 인격이 능동적으로 말 거는 기능
  - "오늘 일정이 3개 있어요, 주인님. 준비되셨나요?"
  - "이번 주 가장 바쁜 날은 수요일입니다."
- 계절/날씨 반응 멘트 추가

---

## 수익화 연계

| 기능 | 연계 항목 |
|------|----------|
| 무료 인격 (P00~P02) | AdSense 페이지 유입 증가 |
| 유료 인격 팩 (P03~P05) | M03 프리미엄 테마 판매와 묶음 제공 |
| 커스텀 인격 (P06) | M01 프리미엄 플랜 전환 유도 |

---

## 리스크

| 리스크 | 대응 |
|--------|------|
| 특정 인격이 불쾌감을 줄 수 있음 | 기본값은 항상 중립(P00), 인격은 선택 사항 |
| AdSense 심사에서 문제 | 기본 UI는 중립 유지, 인격은 사용자 설정에서만 노출 |
| OpenAI 토큰 비용 증가 | 인격 프롬프트는 짧게 유지 (100토큰 이내) |

---

> 이 문서는 기획 단계입니다. 구현 시 별도 기술 스펙을 작성하세요.
